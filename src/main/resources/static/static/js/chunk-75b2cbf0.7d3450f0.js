(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75b2cbf0"],{"2d80":function(e,t,i){"use strict";var o=i("b775");t["a"]={login:function(e){return Object(o["a"])({url:"/user/login",method:"post",data:e})},getUserList:function(e){return Object(o["a"])({url:"/user/list",method:"post",data:e})},addUser:function(e){return Object(o["a"])({url:"/user/register",method:"post",data:e})},modifyPwd:function(e){return Object(o["a"])({url:"/user/modifyPwd",method:"post",data:e})},edit:function(e){return Object(o["a"])({url:"/user/edit",method:"post",data:e})},deleteUsers:function(e){return Object(o["a"])({url:"/user/deleteUsers",method:"post",data:e})}}},"35e2":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table"},[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-profile"}),e._v(" 用户管理")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAll}},[e._v("批量删除")]),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"姓名/账号"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-lx-add"},on:{click:e.addUser}},[e._v("添加")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.data,border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"150"}}),i("el-table-column",{attrs:{prop:"nickName",label:"姓名",width:"150"}}),i("el-table-column",{attrs:{prop:"account",label:"账号"}}),i("el-table-column",{key:e.i,attrs:{label:"操作",width:"240",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.handleModifyPwd(t.row)}}},[e._v("修改密码")]),i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.page_size,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),i("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[i("el-form-item",{attrs:{label:"姓名"}},[i("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),i("el-form-item",{attrs:{label:"账号"}},[i("el-input",{model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"修改密码",visible:e.modifyPwdVisible,width:"30%"},on:{"update:visible":function(t){e.modifyPwdVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.modify_pwd_form,"label-width":"50px"}},[i("el-form-item",{attrs:{"label-width":"15%",label:"旧密码"}},[i("el-input",{attrs:{type:"password"},model:{value:e.modify_pwd_form.old_pwd,callback:function(t){e.$set(e.modify_pwd_form,"old_pwd",t)},expression:"modify_pwd_form.old_pwd"}})],1),i("el-form-item",{attrs:{"label-width":"15%",label:"新密码"}},[i("el-input",{attrs:{type:"password"},model:{value:e.modify_pwd_form.new_pwd,callback:function(t){e.$set(e.modify_pwd_form,"new_pwd",t)},expression:"modify_pwd_form.new_pwd"}})],1),i("el-form-item",{attrs:{"label-width":"15%",label:"确认密码"}},[i("el-input",{attrs:{type:"password"},model:{value:e.modify_pwd_form.confirm_pwd,callback:function(t){e.$set(e.modify_pwd_form,"confirm_pwd",t)},expression:"modify_pwd_form.confirm_pwd"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.modifyPwdVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.savePwd}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"添加用户",visible:e.addVisible,width:"30%"},on:{"update:visible":function(t){e.addVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[i("el-form-item",{attrs:{"label-width":"15%",label:"姓名"}},[i("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),i("el-form-item",{attrs:{"label-width":"15%",label:"账号"}},[i("el-input",{model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),i("el-form-item",{attrs:{"label-width":"15%",label:"密码"}},[i("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),i("el-form-item",{attrs:{"label-width":"15%",label:"确认密码"}},[i("el-input",{attrs:{type:"password"},model:{value:e.form.confirmPwd,callback:function(t){e.$set(e.form,"confirmPwd",t)},expression:"form.confirmPwd"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveAddUser}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"提示",visible:e.deleteRowVisible,width:"300px",center:""},on:{"update:visible":function(t){e.deleteRowVisible=t}}},[i("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.deleteRowVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteUsers([e.form])}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.deleteAllVisible,width:"300px",center:""},on:{"update:visible":function(t){e.deleteAllVisible=t}}},[i("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.deleteAllVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteUsers(e.multipleSelection)}}},[e._v("确 定")])],1)])],1)},s=[],a=(i("ac6a"),i("2d80")),l={name:"userList",data:function(){return{total:0,cur_page:1,page_size:10,select_word:"",tableData:[],addVisible:!1,deleteRowVisible:!1,deleteAllVisible:!1,editVisible:!1,modifyPwdVisible:!1,multipleSelection:[],form:{id:0,nickName:"",account:"",password:"",confirmPwd:""},modify_pwd_form:{old_pwd:"",new_pwd:"",confirm_pwd:""}}},created:function(){this.getData()},computed:{data:function(){var e=this;return this.tableData.filter(function(t){if(t.nickName.indexOf(e.select_word)>-1||t.account.indexOf(e.select_word)>-1)return t})}},methods:{delAll:function(){this.deleteAllVisible=!0},search:function(){},getData:function(){var e=this;a["a"].getUserList({pageIndex:this.cur_page,pageSize:this.page_size}).then(function(t){"200"===t.code?(e.tableData=t.data.userList,e.total=t.data.count):e.$message.error(t.message)})},handleEdit:function(e){this.form={id:e.id,nickName:e.nickName,account:e.account,password:e.password},this.editVisible=!0},handleDelete:function(e){this.form=e,this.deleteRowVisible=!0},handleModifyPwd:function(e){this.modify_pwd_form={old_pwd:"",new_pwd:"",confirm_pwd:""},this.form={id:e.id},this.modifyPwdVisible=!0},handleCurrentChange:function(e){this.cur_page=e,this.getData()},handleSelectionChange:function(e){this.multipleSelection=e},addUser:function(){this.form={id:0,nickName:"",account:"",password:""},this.addVisible=!0},saveEdit:function(){var e=this;""!==this.form.nickName&&""!==this.form.account?a["a"].edit({userId:this.form.id,nickName:this.form.nickName,account:this.form.account}).then(function(t){"200"===t.code?(e.editVisible=!1,e.$message.success("修改成功"),e.getData()):e.$message.error(t.message)}):this.$message.error("输入不完整！")},saveAddUser:function(){var e=this;""!==this.form.nickName&&""!==this.form.account&&""!==this.form.password&&""!==this.form.confirmPwd?this.form.password==this.form.confirmPwd?a["a"].addUser({userPhone:this.form.account,password:this.form.password,nickName:this.form.nickName}).then(function(t){"200"===t.code?(e.addVisible=!1,e.$message.success("添加成功"),e.getData()):e.$message.error(t.message)}):this.$message.error("密码和确认密码不一致！"):this.$message.error("输入不完整！")},savePwd:function(){var e=this;this.modify_pwd_form.new_pwd===this.modify_pwd_form.confirm_pwd?""!==this.modify_pwd_form.old_pwd&&""!==this.modify_pwd_form.new_pwd?a["a"].modifyPwd({userId:this.form.id,oldPwd:this.modify_pwd_form.old_pwd,newPwd:this.modify_pwd_form.new_pwd}).then(function(t){"200"===t.code?(e.modifyPwdVisible=!1,e.$message.success("密码修改成功")):e.$message.error(t.message)}):this.$message.error("输入不完整！"):this.$message.error("新密码与确认密码不一致！")},deleteUsers:function(e){var t=this,i=[];e.forEach(function(e){i.push(e.id)}),i.forEach(function(e){console.log(e)}),a["a"].deleteUsers({userIds:i}).then(function(e){"200"===e.code?(t.deleteRowVisible=!1,t.deleteAllVisible=!1,t.$message.success("删除成功！"),t.getData()):t.$message.error(e.message)})}}},r=l,n=(i("f840"),i("2877")),d=Object(n["a"])(r,o,s,!1,null,"d906377e",null);t["default"]=d.exports},"448e":function(e,t,i){},b775:function(e,t,i){"use strict";var o=i("bc3a"),s=i.n(o),a=s.a.create({baseURL:"http://120.92.114.123:8089",timeout:5e3});a.interceptors.request.use(function(e){return e},function(e){return console.log(e),Promise.reject()}),a.interceptors.response.use(function(e){if(200===e.status)return e.data;Promise.reject()},function(e){return console.log(e),Promise.reject()}),t["a"]=a},f840:function(e,t,i){"use strict";var o=i("448e"),s=i.n(o);s.a}}]);